---
title: "HTTP / HTTPS 原理"
date: 2023-07-19
draft: true
metaAlignment: center
categories:
- 计算机网络
tags:
- HTTP
- HTTPS
---

<!--more-->

## HTTP/HTTPS

HTTPS HTTP + SSL/TLS
SSL（安全套接字）
TLS（传输安全协议）
非对称加密 + 对称加密
客户端发起请求，服务端返回公钥；
客户端生产随机密钥，公钥加密后发送到服务端，服务端私钥解密，得到密钥；
之后服务端和客户端通过密钥通信；

### 中间人攻击

客户端发起请求，服务端返回公钥，中间人劫持公钥，并返回自己公钥给客户端；
客户端拿到中间人公钥，生产随机密钥，使用中间人的公钥加密随机密钥，返回给服务端，中间人劫持加密的密钥使用自己的私钥解密，获得密钥，再使用劫持到的服务端公钥加密，与服务端通信。

### CA机构

通过具有公信力的CA机构发布证书。
收到客户端请求后，服务端返回证书明文信息和签名（证书明文信息hash后，私钥加密）；
客户端收到后拿证书公钥解密得到签名a，根据服务端返回的证书信息的hash算法得到签名b，如果签名a和签名b不一致说明证书内容被篡改不可信。